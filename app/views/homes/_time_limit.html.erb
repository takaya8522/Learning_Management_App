<%# 1日=86400秒 floorは小数点以下切り捨て、absは絶対値を出す %>
<% if ((study_timing - Time.now)/86400) < -1 %>
  <%= ((study_timing - Time.now)/86400).floor.abs %>日の遅れ
<% elsif ((study_timing - Time.now)/86400) >= -1 && ((study_timing - Time.now)/86400) < 0 %>
  復習タイミングになりました！
<% elsif ((study_timing - Time.now)/86400) > 1 %>
  あと<%= ((study_timing - Time.now)/86400).floor %>日と<%= divide_hour(study_timing - Time.now) %>時間
<% elsif ((study_timing - Time.now)/86400) >= 0 %>
  <%# ヘルパーに定義したdivideメソッドで小数点だけを返す %>
  あと<%= ((study_timing - Time.now)/86400*24).floor %>時間と<%= divide_minute(study_timing - Time.now) %>分
<% end %>
